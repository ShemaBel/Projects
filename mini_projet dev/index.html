<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Gestion de l'Hôtel</title>
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css">
</head>
<body>
  <div>
  <div class="container">
    <div class="title-bar">
      <h1>Gestion de l'Hôtel</h1>
    </div>

    <div class="img-container">
      <img src="img/hotel.jpg" alt="Image de l'hôtel">
    </div>

    <center><button id="add-guest-button" class="btn btn-primary"><i class="bi bi-person-plus"></i> Ajouter un client</button>
    <button id="clear-button" class="btn btn-danger"><i class="bi bi-trash"></i> Effacer la liste</button></center>

    <div class="search-container">

      <input type="text" id="search-input" placeholder="Rechercher un client...">
      <input type="text" id="search-room" placeholder="Recherche par numéro de chambre">
      <input type="date" id="search-date" placeholder="Recherche par date">
      <button id="search-button" class="btn btn-primary">Rechercher</button>
    </div>
    
    <div id="add-guest-modal" class="modal">
      <div class="modal-content">
        <span id="close-button" class="close">&times;</span>
        <h2>Ajouter un client</h2>
        <form id="guest-form">
          <div class="form-group">
            <label for="name">Nom :</label>
            <input type="text" id="name" required>
          </div>
          <div class="form-group">
            <label for="prenom">Prénom :</label>
            <input type="text" id="prenom" required>
          </div>
          <div class="form-group">
            <label for="room">Chambre :</label>
            <input type="text" id="room" required>
          </div>
          <div class="form-group">
            <label for="checkin">Date d'arrivée :</label>
            <input type="date" id="checkin" required>
          </div>
          <div class="form-group">
            <label for="checkout">Date de départ :</label>
            <input type="date" id="checkout" required>
          </div>
          <div class="form-group">
            <button type="button" id="save-button" class="btn btn-success">Sauvegarder</button>
            <button id="close-add-button" class="btn btn-secondary" type="button">Fermer</button>
          </div>
        </form>
      </div>
    </div>

    <div id="edit-modal" class="modal">
      <div class="modal-content">
        <span id="close-edit-button-form1" class="close">&times;</span>
        <h2>Modifier un client</h2>
        <form id="edit-guest-form">
          <div class="form-group">
            <label for="edit-name">Nom :</label>
            <input type="text" id="edit-name" required>
          </div>
          <div class="form-group">
            <label for="edit-prenom">Prénom :</label>
            <input type="text" id="edit-prenom" required>
          </div>
          <div class="form-group">
            <label for="edit-room">Chambre :</label>
            <input type="text" id="edit-room" required>
          </div>
          <div class="form-group">
            <label for="edit-checkin">Date d'arrivée :</label>
            <input type="date" id="edit-checkin" required>
          </div>
          <div class="form-group">
            <label for="edit-checkout">Date de départ :</label>
            <input type="date" id="edit-checkout" required>
          </div>
          <div class="form-group">
            <button class="btn btn-success" type="button" id="edit-save-button">Enregistrer</button>
            <button class="btn btn-close-secondary" type="button" id="close-edit-button-form">Fermer</button>
          </div>
        </form>
      </div>
    </div>

    <div class="table-container">
      <table>
        <thead>
          <tr>
            <th data-column="name" data-order="desc">Nom <i class="bi bi-arrow-down-up"></i></th>
            <th data-column="prenom" data-order="desc">Prénom <i class="bi bi-arrow-down-up"></i></th>
            <th data-column="room" data-order="desc">Chambre <i class="bi bi-arrow-down-up"></i></th>
            <th data-column="checkin" data-order="desc">Date d'arrivée <i class="bi bi-arrow-down-up"></i></th>
            <th data-column="checkout" data-order="desc">Date de départ <i class="bi bi-arrow-down-up"></i></th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody id="guest-list">
          <tr>
            <td colspan="6">Oups la liste est vide !</td>
          </tr>
        </tbody>
      </table>
    </div>    
  </div>
</div>
  <footer>
    <p>&copy; 2024 Gestion de l'Hôtel. Tous droits réservés.</p>
  </footer>
  <script>
    document.addEventListener("DOMContentLoaded", function() {
  const searchButton = document.getElementById("search-button");
  const searchInput = document.getElementById("search-input");
  const searchRoom = document.getElementById("search-room");
  const searchDate = document.getElementById("search-date");
  const guestList = document.getElementById("guest-list");

  searchButton.addEventListener("click", function() {
    const searchTerm = searchInput.value.toLowerCase();
    const searchRoomNumber = searchRoom.value.toLowerCase();
    const searchDateValue = searchDate.value;

    const rows = guestList.getElementsByTagName("tr");

    Array.from(rows).forEach(row => {
      const nameCell = row.cells[0];
      const prenomCell = row.cells[1];
      const roomCell = row.cells[2];
      const checkinCell = row.cells[3];

      if (nameCell && prenomCell && roomCell && checkinCell) {
        const name = nameCell.textContent.toLowerCase();
        const prenom = prenomCell.textContent.toLowerCase();
        const room = roomCell.textContent.toLowerCase();
        const checkinDate = checkinCell.textContent;

        const matchesSearchTerm = !searchTerm || name.includes(searchTerm) || prenom.includes(searchTerm);
        const matchesSearchRoom = !searchRoomNumber || room.includes(searchRoomNumber);
        const matchesSearchDate = !searchDateValue || checkinDate === searchDateValue;

        if (matchesSearchTerm && matchesSearchRoom && matchesSearchDate) {
          row.style.display = "";
        } else {
          row.style.display = "none";
        }
      }
    });
  });
});
    </script>
  <script src="js/main.js"></script>
  <script src="js/custom-script.js"></script>
</body>
</html>
